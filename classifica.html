<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake leaderboard</title>
<link rel="icon" type="image/x-icon" href="resources/snake.ico" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>

<h2>Top 10 players</h2>

<table id="snake-table" border="1">
  <thead>
    <tr>
      <th>Nickname</th>
      <th>Miglior punteggio</th>
    </tr>
  </thead>
  <tbody id="snake-table-body">
    <!-- Table content will be dynamically added here -->
  </tbody>
</table>

<script>
$(document).ready(function(){
    $.ajax({
        url: 'https://snakeabbo.000webhostapp.com/fetch_snake_data.php', // Assumi che fetch_snake_data.php sia lo script PHP per recuperare i dati dal database
        type: 'GET',
        dataType: 'json',
        success: function(response){
            if(response.success) {
                var tableBody = $('#snake-table-body');
                $.each(response.data, function(index, row) {
                    tableBody.append('<tr><td>' + row.pseudonimo + '</td><td>' + row.miglior_giocata + '</td></tr>');
                });
            } else {
                console.log('Errore nel recupero dei dati');
            }
        },
        error: function(xhr, status, error) {
            console.error('Errore AJAX:', error);
        }
    });
});
</script>

</body>
</html>
